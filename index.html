<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9" lang=""> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang=""> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Effpi: verified message-passing programs in Dotty</title>
    <meta name="description" content="A toolkit for strongly-typed, verified concurrent and distributed programming in Dotty">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">

    <link rel="stylesheet" href="css/normalize.min.css">
    <link rel="stylesheet" href="css/main.css">
    <link href="prism/prism.css" rel="stylesheet" />

    <script src="js/vendor/modernizr-2.8.3-respond-1.4.2.min.js"></script>
  </head>
  <body>
    <script src="prism/prism.js"></script>
    <!--[if lt IE 8]>
        <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

    <div class="header-container">
      <header class="wrapper clearfix">
        <h1 class="title">Effpi</h1>
	    <p class="title">Verified message-passing programs in Dotty</p>
	    <!--
            <nav>
              <ul>
                <li><a href="#">nav ul li a</a></li>
              </ul>
            </nav>
	        -->
      </header>
    </div>

    <div class="main-container">
      <div class="main wrapper clearfix">

        <article>
          <header>
	        Effpi is an experimental toolkit
	        for <em>strongly-typed</em> message-passing
	        programs in <a href="http://dotty.epfl.ch/">Dotty</a>
	        (a.k.a. the future Scala 3 programming language),
	        with verification capabilities
	        based on <em>type-level model checking</em>.
          </header>
          <section>
            <h2>Features</h2>
            <ol>
              <li>
                <strong>behavioural types</strong>, i.e., types that
                specify the <strong>protocol</strong> that a program
                is expected to follow: what messages it should
                send/receive, their intended destination/origin, and
                their order. For example:
                <pre><code class="language-scala">import effpi.channel.Channel
import effpi.process.{In, Out, >>:, PNil}

// Take two channels x and y carrying strings; use x to receive a message;
// then, either forward the message on y, or send "Nope" on x
type T = (x: Channel[String], y: Channel[String]) => (
  In[x.type, String, (msg: String) =>
    (Out[y.type, msg.type] | Out[x.type, "Nope"])
  ]
)</code></pre>
              </li>
              <li>
                a <strong>Domain-Specific Language</strong> for
                writing message-passing programs with the behavioural
                types above. The DSL has two
                flavours: <strong>process-based</strong> (see example
                below) and <strong>actor-based</strong> (inspired
                by <a href="https://doc.akka.io/docs/akka/current/typed/index.html">Akka
                Typed</a>). DSL programs are type-checked by the Dotty
                compiler - and if a program compiles, then it
                correctly implements the intended type/protocol. For
                example:
                <pre><code class="language-scala">import effpi.process.dsl.{receive, send, nil}
import scala.concurrent.duration.Duration

// This implicit timeout is used by receive() below
implicit val timeout: Duration = Duration(30, "seconds")

// Implement type/protocol T above. The type annotation ensures that
// the implementation abides by protocol T: mistakes like
// sending something unexpected on channels x or y, or forgetting to
// forward the message or send "Nope", all cause compile-time errors
val f: T = (x: Channel[String], y: Channel[String]) => {
  receive(x) { msg =>
    println(f"Received: ${msg}")
    if (msg.length > 42) {
      println(f"Forwarding message via channel y")
      send(y, msg)
    } else {
      println("Replying 'Nope'")
      send(x, "Nope")
    }
  }
}</code></pre>
              </li>
              <li>
                an <strong>efficient interpreter</strong> for running
                programs written in the DSL abov. The Effpi
                interpreter can run highly concurrent applications
                millions of interacting processes/actors;
              </li>
              <li>
                <strong>compile-time verification of behavioural
                properties</strong>: Effpi can check whether a (typed)
                program (or ensemble of programs) enjoys properties
                like deadlock-freedom. This is achieved through a
                compiler plugin that interfaces to
                the <a href="http://mcrl2.org">mCRL2 model
                checker</a>. For example:
                <pre><code class="language-scala">// Define a bunch of protocols...
type T1[...] = ...
type T2[...] = ...

// ...and with an "@effpi.verify(...)" annotation, check whether their
// parallel composition ("Par") and their implementation ("impl") could
// deadlock. If the verification succeeds at compile-time, then "impl"
// will never get stuck at run-time.
@effpi.verify(property="deadlock_free()")
def impl(x: Channel[...], y: Channel[...]): Par[T1[...], T2[...]] = {
  ...
}
</code></pre>
              </li>
            </ol>

            <h2>Resources</h2>
            <p>
	          <em>This website is under constriction.</em>
	          For now, please refer to the following materials.
	        </p>

            <h3>Papers</h3>
	        <ul>
		      <li>
		        <a href="https://www.doc.ic.ac.uk/~ascalas/tmp/pldi19/papers/effpi-scala19.pdf"><strong>A brief
		            overview</strong></a> of Effpi (tool paper accepted at the
                <a href="https://2019.ecoop.org/home/scala-2019">Scala Symposium 2019</a>);
		      </li>
		      <li>
		        A. Scalas, N. Yoshida, E. Benussi.
		        <a href="https://doi.org/10.1145/3314221.3322484"><em><strong>Verifying message-passing programs
		              with dependent behavioural types</strong></em></a>
                (also available <a href="http://mrg.doc.ic.ac.uk/publications/verifying-message-passing-programs-with-dependent-behavioural-types/pldi19-preprint.pdf">here</a>).
		        PLDI 2019.
                This paper describes the theoretical foundations of Effpi,
                and evaluates its implementation.
                Effpi has been reviewed and accepted as companion artifact
                of the paper.
		      </li>
	        </ul>

	        <h3>Implementation</h3>
	        <ul>
		      <li>
		        <strong><a href="https://github.com/alcestes/effpi">Effpi's source
		            code on GitHub</a></strong>
		      </li>
		      <li>
		        <strong><a href="readme.html">Instructions and requirements</a></strong>:
		        how to build Effpi, its software dependencies,
		        how to reproduce the benchmarks in the PLDI'19 paper,
		        and how to navigate Effpi's source code.
		      </li>
		      <li>
		        <strong><a href="https://www.doc.ic.ac.uk/~ascalas/tmp/pldi19/pldi19-artifact-vm.ova">A ready-to-use virtual machine</a></strong>
		        with all Effpi's software dependencies.
		        For details, please read the instructions above.
		      </li>
	        </ul>
          </section>
          <footer>
            <h2>Authors</h2>
	        <p>
	          Effpi is developed by:
	        </p>
	        <ul>
	          <li>
		        Alceste Scalas &mdash; Aston University, Birmingham, UK
		        <span class="email">a.scalas (at) aston (dot) ac (dot) uk</span>
	          </li>
	          <li>
		        Elias Benussi &mdash; Faculty Science Ltd., UK
		        <span class="email">elias (at) faculty (dot) ai</span>
	          </li>
	        </ul>

	        <p>
	          The theory behind Effpi is developed in
	          collaboration with:
	        </p>
	        
	        <ul>
	          <li>
		        Nobuko Yoshida &mdash; Imperial College London, UK
		        <span class="email">n.yoshida (at) imperial (dot) ac (dot) uk</span>
	          </li>
	        </ul>
          </footer>
        </article>

	    <!--
            <aside>
              <h3>aside</h3>
              <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam sodales urna non odio egestas tempor. Nunc vel vehicula ante. Etiam bibendum iaculis libero, eget molestie nisl pharetra in. In semper consequat est, eu porta velit mollis nec. Curabitur posuere enim eget turpis feugiat tempor. Etiam ullamcorper lorem dapibus velit suscipit ultrices.</p>
            </aside>
	        -->

      </div> <!-- #main -->
    </div> <!-- #main-container -->

    <div class="footer-container">
      <footer class="wrapper">
        <!--<h3>footer</h3>-->
      </footer>
    </div>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.11.2.min.js"><\/script>')</script>

      <script src="js/main.js"></script>

      <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
      <script>
        (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
        function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
        e=o.createElement(i);r=o.getElementsByTagName(i)[0];
        e.src='//www.google-analytics.com/analytics.js';
        r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
        ga('create','UA-XXXXX-X','auto');ga('send','pageview');
      </script>
  </body>
</html>
